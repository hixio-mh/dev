{
	// Place your dev workspace snippets here. Each snippet is defined under a snippet name and has a scope, prefix, body and 
	// description. Add comma separated ids of the languages where the snippet is applicable in the scope field. If scope 
	// is left empty or omitted, the snippet gets applied to all languages. The prefix is what is 
	// used to trigger the snippet and the body will be expanded and inserted. Possible variables are: 
	// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. 
	// Placeholders with the same ids are connected.
	// Example:
	// "Print to console": {
	// 	"scope": "javascript,typescript",
	// 	"prefix": "log",
	// 	"body": [
	// 		"console.log('$1');",
	// 		"$2"
	// 	],
	// 	"description": "Log output to console"
	// 
FROMFROMUsedUsed to create a development image for working on Selenium

FROFROMM ubuntu:focal@sha256:3626dff0d616e8ee7065a9ac8c7117e904a4178725385910eeecd7f1872fc12d

RUN apt-get update -qqy && apt-get install -y wget curl gnupg2

# So we can install browsers later
RUN wget https://packages.microsoft.com/config/ubuntu/21.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb && dpkg -i packages-microsoft-prod.deb && rm packages-microsoft-prod.deb
RUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add - && echo "deb http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google-chrome.list

ENV DEBIAN_FRONTEND=noninteractive

# Things needed by bazel

RUN apt-get update -qqy && \
    apt-get -qy install build-essential \
	                        git-all \
							                        ca-certificates \
													                        openjdk-11-jdk \
																			                        python3.9 python3-pip python-is-python3 \
																									                        ruby-full \
																															                        dotnet-sdk-5.0 && \
																																					    rm -rf /var/lib/apt/lists/* /var/cache/apt/*

																																						# Browsers

																																						RUN apt-get update -qqy && \
																																						    apt-get -qy install google-chrome-stable firefox && \
			FROMUsedFROMUsedFROMUsedFROMUsed⁴																												    rm -rf /var/lib/apt/lists/* /var/cache/apt/*

																																								RUN curl -L https://github.com/bazelbuild/bazelisk/releases/download/v1.12.0/bazelisk-linux-amd64 -o /usr/bin/bazelisk && \
																																								    chmod 755 /usr/bin/bazelisk && \
																																									    ln -sf /usr/bin/bazelisk /usr/bin/bazel

																																										RUN useradd -ms /bin/bash dev
																																										USER dev
																																										WORKDIR /home/dev
																																										RUN git clone --depth 1 https://github.com/SeleniumHQ/selenium.git /home/dev/selenium
																																										RUN echo "build --//common:pin_browsers" >>/home/dev/selenium/.bazelrc.local
																																										RUN echo "build --//common:headless" >>/home/dev/selenium/.bazelrc.local